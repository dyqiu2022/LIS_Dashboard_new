% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fct_.R
\name{safe_formula}
\alias{safe_formula}
\title{安全地构建公式对象 (Safe Formula Construction)}
\usage{
safe_formula(formula_str, response_var)
}
\arguments{
\item{formula_str}{字符型。公式的右侧部分 (RHS)，例如 "x1 + x2" 或 "poly(x, 2)"。}

\item{response_var}{字符型。响应变量名 (LHS)。自动处理变量名中的空格或特殊字符。}
}
\value{
成功时返回 \code{formula} 对象，失败时返回 \code{NULL}。
}
\description{
将响应变量名和预测变量字符串转换为 R 的公式对象。
包含完整的错误捕获机制，防止因字符串格式错误导致程序崩溃。
}
\examples{
# 1. 正常转换
safe_formula("Age + Sex", "Outcome")

# 2. 处理带空格的变量名 (自动加反引号)
safe_formula("Age + Sex", "Time to Event")

# 3. 错误的输入 (优雅返回 NULL 而不崩溃)
safe_formula(NULL, "y")
safe_formula("x", NULL)
}
