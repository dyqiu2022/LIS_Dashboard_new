% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fct_.R
\name{calculate_tukey_ri}
\alias{calculate_tukey_ri}
\title{计算基于 Tukey 方法的参考区间 (Reference Interval)}
\usage{
calculate_tukey_ri(data_vector, ri_perc = c(0.025, 0.975), fence_k = 1.5)
}
\arguments{
\item{data_vector}{数值向量。包含待分析的检测结果。}

\item{ri_perc}{数值向量。需要计算的百分位数（如 c(0.025, 0.975)）。}

\item{fence_k}{数值。Tukey 围栏的系数，默认为 1.5 (标准)。3.0 可用于极端异常值。}
}
\value{
返回一个 data.frame，包含以下列：
\itemize{
  \item \code{RIperc}: 请求的百分位。
  \item \code{pointEst}: 点估计值（根据逻辑可能是 Fence 或 实际分位数）。
  \item \code{lower}: 目前与 pointEst 相同（预留字段）。
  \item \code{upper}: 目前与 pointEst 相同（预留字段）。
}
}
\description{
使用改进的 Tukey (Boxplot) 方法计算参考区间。
该算法在标准 Tukey Fences (1.5 * IQR) 的基础上增加了生物医学数据的边界约束：
1. 下限不会低于 0（除非数据本身包含负数）。
2. 当理论下限明显不合理（如远低于数据范围）时，回退到数据最小值。
3. 对于中间分位数（0.25 - 0.75），使用实际数据的分位数；对于两端，使用 Tukey Fences 截断。
}
\examples{
# 正常数据
calculate_tukey_ri(rnorm(100, mean = 50, sd = 10), c(0.025, 0.975))

# 包含异常值的数据
test_data <- c(rnorm(100, 50, 10), 1000)
calculate_tukey_ri(test_data, c(0.025, 0.5, 0.975))
}
